{% extends "layout.html" %}
{% block title %}연차 수정{% endblock %}

{% block content %}
<h2>✏️ 연차 입력 및 수정</h2>

<p><strong>직원:</strong> {{ user.name }}</p>

<form method="POST">
    <input type="hidden" name="action" value="change_year">

    <label>연도:</label>
    <select name="year" required onchange="this.form.submit()">
        {% for y in years %}
        <option value="{{ y }}" {% if y == balance.year %}selected{% endif %}>
            {{ y }}년
        </option>
        {% endfor %}
    </select>
    <br><br>

    <label>총 연차:</label>
    <input type="number" value="{{ balance.total_days }}" disabled>
    <br><br>

    <label>사용 연차:</label>
    <input type="number" step="0.5" name="used_days"
           value="{{ balance.used_days or 0 }}" required>
    <br><br>

    <label>남은 연차:</label>
    <input type="number" step="0.5" value="{{ balance.total_days - balance.used_days }}" disabled>
    <br><br>

    <button type="submit" name="action" value="save">저장</button>
</form>
{% endblock %}
