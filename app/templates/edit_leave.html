{% extends "layout.html" %}
{% block title %}휴가 수정{% endblock %}

{% block content %}
<h1>✏️ 휴가 수정</h1>

<form method="POST">


    {% if users %}
        <label>직원:</label>
        <select name="user_id" required>
            {% for user in users %}
            <option value="{{ user.id }}"
                {% if user.id == leave.user_id %}selected{% endif %}>
                {{ user.name }}
            </option>
            {% endfor %}
        </select>
        <br><br>
    {% else %}
        <!-- 일반 사용자는 자기 자신 고정 -->
        <input type="hidden" name="user_id" value="{{ leave.user_id }}">
    {% endif %}

    <br><br>

    <label>시작일:</label>
    <input type="date" name="start_date" value="{{ leave.start_date.strftime('%Y-%m-%d') }}" required>
    <br><br>

    <label>종료일:</label>
    <input type="date" name="end_date" value="{{ leave.end_date.strftime('%Y-%m-%d') }}" required>
    <br><br>

    <label>사유:</label>
    <input type="text" name="reason" value="{{ leave.reason }}">
    <br><br>

    <button type="submit">저장</button>
</form>
{% endblock %}
